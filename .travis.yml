env:
  global:
    - secure: VeebvmOmiBhrLiLOZMbrFHFVbCcY1du/Cn3helu6QfMc7prjHesE/e/KEkF6M1aIZ03wzyYuzLjsVBV41WzA6P/mg4eDvxJM80cHsFkfeHVDfj/nhxUACovXBmtcDXzhOzMjONtNYa5S5roc0OaW0Wi5aNnv8iX9IMwew94GuYCBdTKu9yYGuCgT6MjsRSaWQJSbSeb8RntH0d4/iUsaj8wycX4EWAO+ie5FCheAVoZ4oNudXWp14K+xLxwy9KbQi6miPGiEUcLVuUdBBb0vbenW/DF/KfgwaTJy/vGw2WdNN9OCOjFKf7SZGrKV2mtrdspMLa5ekLHSrPBl2vNJiD8lIQQ6cYA2lw/df9TfDFUtJ1EJ/Kkslqb9vmMcXvxKuiqFMA65gXPDn3Tji9BjmoYJO3Zs7aHZbOlI3hpRgVY12WvWup4oU4Sb5A+X48IGB7yy4P+Ezh1i10NGUjUoDWrCnM/yJo66Wzca09Ips+MUi3V4vHkfDUCm3eo+KOy8d42btScagiKR7Afa6d+0N6O/xxe1WEafZmtIg1Y8ZmBpU8rLa5gApZZxWhtYwfCrAL9/4sBzZwKF5LtffDumkVeRACq7DdMICATRKq/DbzxDByU+yY/wk/DD4EvWKpkl/eAcZKoJvxR1S/SndN12f9kkzoV3uQNjMOnpXE7/JGo=
    - secure: LM3kIEk40rQHKaqhWJFJSQEUavwZXhJKyj7CfZd9WXh5sgdosoptphI82/gpcW6TGRnF57POCA6yI4WpQZItNybcUs3KWjx0btrLmpKGSHrjXagTP5dzAOOMh25igdklVnzk9MtpA+0HMS9kY9zOeExymSFM9PhmeS6i+yr/1CUeKXPItgy/uZS8GRF70/jZX+VfuYOHT+0oyBAOIIuXecXoxLEfoVYOaqNQ+F0f1bkLs4yqq6DnNN4VUg3s2sQMXcIBEnaTxzYQHcHYtHpRknu4o6hftqAbG+fFFDkAXzFFU/juoece3jYySQNAMMKB7bSbPsSsce0j1CarkWg6kqSYBzy3IKpegndT23igeozsgThsv1wuMSdpm+NoKMTcPJFK/nwnkGaEK59VZOsQQwv9ndrDn+o2QCDmQEtGcGVULAPglgaTbG9lXAu9XynX7dJy+p/ELqk+FKtvblf7H0/1BnpyvuDzl/TqyM2WxV9Bnt+PK3+FVJdarKSKG1FbvSHOYaNCpULUddIUQGJmp8BPisr2vLPCYBaH7Dy3QF3lhKZBnFoTkVhx1Nae2LOxrsnBdMwLYdS/PMdi1gztMEsiTmbGe/uMqnU7GDx22DiIum6JCz0FoiGmTcZ+o2Qtv0DKKnz/v0PfFfk7aht4U7EzPe8IeVFz+kV3aZ1sq38=
    - secure: d19ySa4L53HzFIfztW+zOehas+hAPPB9yYTFvCvDlNQ0LsdLGg3UVNt1EIuSBE+GaLqxND3I/zw69L2P2QRTahArTY0v7B8CtCoTTqa8H6ddMVnmmvpnGKXZIC0rRtvD7hCAAh2zwu4/oSLHC921k/FGBoS6mm/Ls5K3hbJcjKC3aosQGIHD3phN4ZKBj4MI9evc351GmKpYOAXj/F0hggQrOJ7ORZjD9+rLlt9D+gcTnZLREy9sCZ8sev6fg94OwizHYYbJONLs58VkaZR4wBlxK7f74X6eVjzmaHatDHG5tPCJv4qjx/yBNe1bPkWmqVlumplJPt+Rjf9DeUUMumwtXb6LuAlM4N5SHsqYDlxqbiScir0TJCPijI9ci1Flz2XBsr03LC/GRDRPUgtlLlejKfo1WT+keYK0L3ryaCbeiSHBQfang95PDlhMfWa4w07+okCBdFx4GN0UWtsiirALDEZx/1zoS341C/gdUnqXZASrQPXXcjgX4TWKUa94D9M41pNXjB6uANznsbnACen/MLsz4Bi3fIUjZeZ3c9kMzHibaI9Txlkex0A85797MpmVOZV7oSW7vNYN5798lwVklJIMF5YOK5M5gxcPfle81fQvtNHBy2UdCak6Eu3UFEOZCLwkbqrILjZuOOYsG6D1+pFczQKHrl30Y0fUqe4=
    - secure: TzNlgdZ/xZ66fvyiEmOn5V7/MaLV1mY4gT609HoNmG/RY/lOxrLmsiF1JjnNUsR+0HvRhzaNM/1ffbK5t/LstHBTsVFtFxwl3o33mEo1YVJZSqWxrPONFpISPyDQ3YeyIUo2C7quGRR9wCUTmuRqkHIc7eRtBwejKpgL0fgxmoIZNmT9zOtLYaiUuTMD4MRv2VnpTabUuodoQNPXAecT5Qg0qtQ29cmm7N5ExOkzbg35w3Jpa+alcNenHN+woukfXaJbFr30ZdkosxyJHoSZHtmgPMDs9fmhIJn0KOxsFQyemT8us91cue1LHckA0CjGLACuhtNxA3RYjgmrm8xkYbvmjJ9TNuNfYRy/Y3rL1BqVKSMvQ9VMVNh+ubopFDLXQEGi51zkLL0GnNvtgIMCk8dcx8ZFHiWu8XMgFw4tMqDCIkOEnpEk7OjpMgyx7D7P+/G31miNcCYG0PDSXjSN5PU5UqL2sgsYJZbwLrDgzSaGFRACr7rJa8GoMD6RkYQA3Lwjo6q/I5WyFOEk0lzZPovMMhwdTxsUBN+KAZE0Eu3IoD6x8EienaC8obCPiUCpa05MXFvJYYN5u2sWqb7BT/paFLIpIFRs6Kb4/pwAleG/GqRzdk4vGgFBAEUuPmCS6gfeur4Y751geQ8ITdTqMJ3CYla1iWSfxvvDuRyi1ZI=
    - secure: KBuEiEEaCmig4xlURJRvQWiDDeMSpn+7snqNUd9SUI4PymLkYLm6M+R8CoYfvQgqsTq5p85+skK/W5c7YsgbBQHpXnxZK20ypcRXJLUWw5QXuGWnP2wvKGIpUzrIMMpzOEguA83VrUcSqnMt2W7R2mVMQSv793Iga/34Dp3+DiPPxCbrc/2HfCDhjjIrVa2Z9VkH+ixAG+Z3f9AWeJcz/WJ04uzoFy55vpW9/hLiUQO6aC4+rdrvtHyt8ThcwUqDpUQQyQxQ7yE1kbIgMX3B74qeZm/n3phskY1xtuRuEHvkDsHStP//d+3CS4EFgJqskRkHY6gkpvjVtyGFGGu2e7JAHhAK+FGhfUrZSOyT7C1vtTer50+okmyeG1ulKzA8hnlQqzykClrAaXlBCnphpZvZVX+EDdr+k4mG0ng7pdVw1qSLrnP+yWo1GG+JuXuOBm/rK/uOiUzZor4bZ3BKdqr0l+XQjByqf91Gc06BwsFo+0UFDctSO2AkEjO9eU0Rk5RQvKMJIyhBzVAlH2dn74TTXwiq7lzPcfQ7PwZ53ZwaXtp7eUALzQEXwQF6SMUniICe4D4HegCFpKLXMCfKgzdyKbdLskEAFLvD4jf+mKSUp7RLqAAAfBzPFNCJe3Ch6YsKkBLhtAi9DcoG6LZm+GPdMyeHuOu74nmNN/lQqRQ=
after_success: |
  semantic-release \
    --prepare @conveyal/maven-semantic-release \
    --publish @semantic-release/github,@conveyal/maven-semantic-release \
    --verify-conditions @semantic-release/github,@conveyal/maven-semantic-release \
    --verify-release @conveyal/maven-semantic-release \
    --use-conveyal-workflow \
    --dev-branch=develop
before_install: |
  if [[ "$TRAVIS_PULL_REQUEST" = false ]] && [[ "$TRAVIS_BRANCH" = main ]]; then
    openssl aes-256-cbc -K $encrypted_d81b39e7ac43_key -iv $encrypted_d81b39e7ac43_iv -in maven-artifact-signing-key.asc.enc -out maven-artifact-signing-key.asc -d
    gpg --import --batch maven-artifact-signing-key.asc
  fi
before_script:
  - nvm install '12'
  - yarn global add @conveyal/maven-semantic-release @semantic-release/changelog @semantic-release/git semantic-release
cache:
  directories:
    - $HOME/.m2
    - $HOME/.cache/yarn
install: true
jdk:
  - openjdk8
language: java
notifications:
  email: false
script:
  - mvn package