env:
  global:
    - secure: VeebvmOmiBhrLiLOZMbrFHFVbCcY1du/Cn3helu6QfMc7prjHesE/e/KEkF6M1aIZ03wzyYuzLjsVBV41WzA6P/mg4eDvxJM80cHsFkfeHVDfj/nhxUACovXBmtcDXzhOzMjONtNYa5S5roc0OaW0Wi5aNnv8iX9IMwew94GuYCBdTKu9yYGuCgT6MjsRSaWQJSbSeb8RntH0d4/iUsaj8wycX4EWAO+ie5FCheAVoZ4oNudXWp14K+xLxwy9KbQi6miPGiEUcLVuUdBBb0vbenW/DF/KfgwaTJy/vGw2WdNN9OCOjFKf7SZGrKV2mtrdspMLa5ekLHSrPBl2vNJiD8lIQQ6cYA2lw/df9TfDFUtJ1EJ/Kkslqb9vmMcXvxKuiqFMA65gXPDn3Tji9BjmoYJO3Zs7aHZbOlI3hpRgVY12WvWup4oU4Sb5A+X48IGB7yy4P+Ezh1i10NGUjUoDWrCnM/yJo66Wzca09Ips+MUi3V4vHkfDUCm3eo+KOy8d42btScagiKR7Afa6d+0N6O/xxe1WEafZmtIg1Y8ZmBpU8rLa5gApZZxWhtYwfCrAL9/4sBzZwKF5LtffDumkVeRACq7DdMICATRKq/DbzxDByU+yY/wk/DD4EvWKpkl/eAcZKoJvxR1S/SndN12f9kkzoV3uQNjMOnpXE7/JGo=
    - secure: LM3kIEk40rQHKaqhWJFJSQEUavwZXhJKyj7CfZd9WXh5sgdosoptphI82/gpcW6TGRnF57POCA6yI4WpQZItNybcUs3KWjx0btrLmpKGSHrjXagTP5dzAOOMh25igdklVnzk9MtpA+0HMS9kY9zOeExymSFM9PhmeS6i+yr/1CUeKXPItgy/uZS8GRF70/jZX+VfuYOHT+0oyBAOIIuXecXoxLEfoVYOaqNQ+F0f1bkLs4yqq6DnNN4VUg3s2sQMXcIBEnaTxzYQHcHYtHpRknu4o6hftqAbG+fFFDkAXzFFU/juoece3jYySQNAMMKB7bSbPsSsce0j1CarkWg6kqSYBzy3IKpegndT23igeozsgThsv1wuMSdpm+NoKMTcPJFK/nwnkGaEK59VZOsQQwv9ndrDn+o2QCDmQEtGcGVULAPglgaTbG9lXAu9XynX7dJy+p/ELqk+FKtvblf7H0/1BnpyvuDzl/TqyM2WxV9Bnt+PK3+FVJdarKSKG1FbvSHOYaNCpULUddIUQGJmp8BPisr2vLPCYBaH7Dy3QF3lhKZBnFoTkVhx1Nae2LOxrsnBdMwLYdS/PMdi1gztMEsiTmbGe/uMqnU7GDx22DiIum6JCz0FoiGmTcZ+o2Qtv0DKKnz/v0PfFfk7aht4U7EzPe8IeVFz+kV3aZ1sq38=
    - secure: ShG2y1RQJEB1kE1OajQdnnNCjhjFyrmXmjqH4Vh24gZy0urvvASR/Rlot6QJEKIfW6l+6+Oh9D7DqAw+6zWTUto3UwRJswnIKRmgpCi4oHjyAKApo2jy5oWgFN8W7SjinNp/eUctIUVuvbu60BIq36gQ7yVhXZWPoCWRHZjO93jQipaHqCHtGRkDyfhyddrU3DrS/qxZh9++ELxdJgnEUBxCQ31x/PxRV1IfDXkol6lt1E9W67JSkxlt0rTyBl0XyMxSVVKsnDRqqZ9mj0nUMn8cFztEkzmF3PCM/2AgeoEwZI9KRya2vQfOxvAkSqCdkyinoERf2CiXry7UQ9d8E3D6TzRlO2zLkjT1yvXFazYsAs/wofQyijG1G5UdjGj8h5XtUAuO5w16pJZt5S3+dcw952ZhKlgeCaiam9emh0rDemPIaU5U+mhYX7wBPGWoorRy2bo66cVo6c9vIepB4VAJsypMn0iUVRDGMld5t9Owfm7DWwo61PYMMq1Y117TElDZaTIhxQqMjymHs+GKm7QgmLxC27N9p+TYuESIq+wcGlGmzq+QGOgVFG4IW8ErWMLd1N3jKAj1MUPPqXEE5g5u2KUOofAgecgnRiqGgHid/n7c00K7Wu0/RgpJjv7cCMHbGUx89bdIgZ+eRL4e9i1Kyj+nwI+5FEStOCsTs2g=
    - secure: yOm7BRchjV+Lra1mnxObApIx2ukcdxXxGVjp1761e58M3K8ELGGRESf3Lqbp1OJWHW1cpv3BrEMsFBMgVpdWUvkTQQQ5qaN4wosNEHrMrcXJ5Bzrrm43KEaDg7OiK/VXn0rm+lMvYCUzwFH1Nt+UAuf7ThEUabEqpXM+r3dSCohsVeN6Jgwk4let0vIgzE52OCqnja/T6L5lGcCiMpIU6wVot26s9rHX+CXeyFBb4CkWrUWlHOu/PpSmW11Pq9Qt6ugiZrybLqFksu5iwTZeeQIwKB8D7HsltvCfs8Vf0jRibNtlGjxWxpkrkjqknMkOfq8NLCgHt9fkcpSbOe1BHoLEceJ3Lei2OHyZSWMaWmYxWw5bRGDRPPjenXYW8HIGT2C3U9df/Z+8xn/Zwg+cep70j1paOb+oMRuXichO2Hdz1fzyFXLR7J+WlvI6LZbjJIMMYQhP/awIUnWFJCWxSvtFvQbaFT9blyOGns9hjx2J68LuOwAi8lMvMMQiYtLAuqsU64GjwRl2Zq5K3AY/TCIUwaLarlG2xxEKgsVYmeBRvJUpulTk3mKYdZXeYly/T98myMvU/9S9mT4Crkp2iE6EtHFq1hVLTz65OH7+DakTvOukEkbtvFg6TPa8AJMdjOctkHqg+z4vInF0HActnqHSi7PFRBPwk0tOKmfVQuM=
    - secure: bvQailD6TVMSHANFl0evBSa4bBGahAnRyepzT1MyR+1VKWmzjMqq2tFvVV7Sk+8fd/whQwUP+k9aeyhVzFHmfG1BgE3hyAoHxkjo0fOH7FlL+7CcGA350CcYCsI/A1g0bzAKMwIgqlUCJIKL/MOvZ2NImGKiT57w3IYksG+adWghf2klDqy2Q9PlFz010AHg0m89cqAruSCDRcuFUA0FXoY33WaTY1Aui/0Lt0ovV3M6ooY1/VXbdwS2Nc/o/EnmLznKMkCE7oH6xX0jyoAttiy5dU/Ctn5oYek71nD1Vhq3RIFUVA0ccVdoi9cOCaCTGQQCd9S9//BfTmUMl3szzE6uz+Yaa1tdDFVbo8nEAO7Pogc3THN3WIuBRcZY/vuhVCBGJnKjN0G2MbdP31xBhA0a0w1mFYWZGWOvGYTgsEJ/EGNM3fX+Tmf0YuuxFG7kAFQMFRpe+4rfmIhuElHsCYts5Vn02Qe3qgmr4ZyskVDM86WF+AOMOXB1YR+Dl3A9sBMRSaikJqflXP+ZigzPScJUXNL6CNicqJYOuDkGc95F9QyttLPhzycJ8QVCelxc+2+mGsg63HxzkMhM0PLuxw445Fyk73hp2fCC7wlRfLMi6wurrUF+hn83WKBpmxIETM962fol4FIYtX9rrQkUdIrLX7okxRNv3P0T8ZqTpvg=
#after_success: |
#  semantic-release \
#    --prepare @conveyal/maven-semantic-release \
#    --publish @semantic-release/github,@conveyal/maven-semantic-release \
#    --verify-conditions @semantic-release/github,@conveyal/maven-semantic-release \
#    --verify-release @conveyal/maven-semantic-release \
#    --use-conveyal-workflow \
#    --dev-branch=develop
before_install: |
  if [[ "$TRAVIS_PULL_REQUEST" = false ]]; then
    openssl aes-256-cbc -K $encrypted_d81b39e7ac43_key -iv $encrypted_d81b39e7ac43_iv -in maven-artifact-signing-key.asc.enc -out maven-artifact-signing-key.asc -d
    gpg --import maven-artifact-signing-key.asc
  fi
#before_script:
#  - nvm install '12'
#  - yarn global add @conveyal/maven-semantic-release @semantic-release/changelog @semantic-release/git semantic-release
cache:
  directories:
    - $HOME/.m2
    - $HOME/.cache/yarn
install: true
jdk:
  - openjdk8
language: java
notifications:
  email: false
script:
  - mvn clean deploy --settings maven-settings.xml